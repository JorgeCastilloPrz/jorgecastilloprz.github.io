---
layout: page
current: androidcourse
title: Attaching logic on button click
navigation: true
logo: 'assets/images/ghost.png'
class: page-template
subclass: 'post page'
---

We need to add an id to our button so we can reference it from the Activity code. Remember activities are places for UI logic so that is where we will fit the logic triggered when the user clicks the button. We'll do the same for all user interactions.

```xml
<!-- res/layout/activity_main.xml -->

<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:gravity="center"
    android:orientation="vertical"
    >

    <TextView
        android:id="@+id/title"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/login_title"
        android:textAppearance="@style/TextAppearance.MaterialComponents.Headline6"
        />

    <com.google.android.material.textfield.TextInputLayout
        android:id="@+id/textField"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_margin="16dp"
        android:hint="@string/login_input_hint"
        app:counterEnabled="true"
        app:counterMaxLength="@integer/login_input_max_chars"
        >

        <com.google.android.material.textfield.TextInputEditText
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:maxLength="@integer/login_input_max_chars"
            />

    </com.google.android.material.textfield.TextInputLayout>

    <com.google.android.material.textfield.TextInputLayout
        android:id="@+id/passwordField"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginHorizontal="16dp"
        android:hint="@string/login_password_hint"
        app:endIconMode="password_toggle"
        >

        <com.google.android.material.textfield.TextInputEditText
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:inputType="textPassword"
            />

    </com.google.android.material.textfield.TextInputLayout>

    <Button
        android:id="@+id/loginButton"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="16dp"
        android:text="@string/login_button"
        />
</LinearLayout>
```

> Note the `@+id/` prefix on the id value. That means we are creating and assigning a new id, at the same time.

```xml
<Button
    android:id="@+id/loginButton"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_marginTop="16dp"
    android:text="@string/login_button"
    />
```

We can go back to `LoginActivity` now to attach our logic to the button. We can do it in `onCreate`, after having initialized the UI content. It is key to do it in this order, since the layout needs to be set already in order to reference its views.

```kotlin
class LoginActivity : AppCompatActivity() {

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        val loginButton = findViewById<Button>(R.id.loginButton)
        loginButton.setOnClickListener {
            // We will add some logic here!
        }
    }
}
```

To reference a view from a layout **we need to find it first**. To do that we can use the `findViewById` and pass the `id` to it. We can get the id from the `R.id` file that is autogenerated and will contain all view ids we have assigned in all our layouts.

Finally we just need to call `setOnClickListener {}` and fit some logic inside that will automatically run every time the button is clicked.

What kind of logic would we fit inside? 🤔 We'll add some in the following section! 😁

---

The final version of the code so far can be found [on this branch in GitHub](https://github.com/JorgeCastilloPrz/ultimateandroidcourse/tree/pill19).

[Next: Entering navigation >]({{ baseurl }}/androidcourse/pill20/)

### Contact me for doubts!

You can find me [on Twitter](https://www.twitter.com/JorgeCastilloPR), where I share all my experiences as a developer, and also [on Instagram](https://www.instagram.com/jorgecastillopr).


Please feel free to contact by any of the mentioned networks or [by mail](mailto:jorge.castillo.prz@gmail.com).
